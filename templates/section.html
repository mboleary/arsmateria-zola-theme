{% extends "index.html" %}

{% block title %}{{ section.title }}{% endblock title %}
{% block description %}{{ section.description }}{% endblock %}
{% if page.authors %}{% block author %}{{ page.authors | first }}{% endblock author %}{% endif %}

{% block content %}

{% if section.extra %}
    {% set titlecardStyle = false %}
    {% set titlecardTextStyle = false %}
    {% set titlecardImg = false %}
    {% if section.extra.titlecard %}
        {% set titlecardStyle = section.extra.titlecard %}
    {% endif %}
    {% if section.extra.titlecard_text %}
        {% set titlecardTextStyle = section.extra.titlecard_text %}
    {% endif %}
    {% if section.extra.titlecard_image %}
        {% set titlecardImg = section.extra.titlecard_image %}
    {% endif %}
    {{ macros::titlecard(title=section.title, subtitle=section.description, style=titlecardStyle, textStyle=titlecardTextStyle, img=titlecardImg) }}
{% else %}
    {{ macros::titlecard(title=section.title, subtitle=section.description) }}
{% endif %}

{% if section.content %}
{% if section.toc | length > 0 %}
    {% set sectiontoc = section.toc %}
    {% if section.extra.toc %}
        {% set sectiontoc = sectiontoc | concat(with=section.extra.toc) %}
    {% endif %}
    {{ macros::navbar(toc=sectiontoc, isSection=true) }}
{% endif %}
<div class="container">
    {{ section.content | safe }}
    <hr>
</div>
{% endif %}
<div id="section-pages"></div>
{% block sectionPages %}
{% if section.pages %}
    {% for page in section.pages %}
        <div class="container">
            <article class="article-brief content-card">
                <header class="hbar">
                    <h1 class="title"><a href="{{page.path}}"> {{page.title}} </a></h1>
                    <div>
                        <span class="info">
                            {% if page.date %}{{page.date}} | {% endif %}
                        </span>
                        {% if page.taxonomies.tags %}
                            {% for tag in page.taxonomies.tags %}
                                {{tags::tag(tag=tag)}}
                            {% endfor %}
                        {% endif %}
                    </div>
                </header>
                {% if page.summary %}
                    <div>
                        {{page.summary | safe}}
                    </div>
                    <div class="height-10"></div>
                    <a href="{{page.path}}#continue-reading"><div class="continue"> Continue Reading ... </div></a>
                {% elif page.description %}
                    <div>
                        {{page.description}}
                    </div>
                    <div class="height-10"></div>
                    <a href="{{page.path}}#continue-reading"><div class="continue"> Continue Reading ... </div></a>
                {% endif %}
            </article>
        </div>
    {% endfor %}
{% endif %}

{% endblock sectionPages %}

{% endblock content %}